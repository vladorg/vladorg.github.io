window.onload=function(){function e(){s.classList.add("no_scroll")}function t(){s.classList.remove("no_scroll")}function o(e){for(var t=null,o=0;o<e.length;o++)e[o].classList.contains("modal--open")?t=!1:0!=t&&(t=!0);return t}function i(o,i,n,s,c){if(o){for(var l=0;l<i.length;l++)i[l].addEventListener("click",function(){for(var t=0;t<c.length;t++)c[t]!=o&&c[t].classList.remove("modal--open");o.classList.add(s,"modal--open"),setTimeout(e,1)});for(var l=0;l<n.length;l++)n[l].addEventListener("click",function(){o.classList.remove(s,"modal--open"),setTimeout(t,400)})}}function n(e,t,o,i,n){void 0===n&&(n=!1),e.on("click",function(s){s.preventDefault();var c=o.find(".checkout__required"),l=o.find(".checkout__required");if(t=null,e==le){var l=o.find(".checkoutCustomer__input"),r=0,a=[];l.each(function(){a[r]=$(this).val(),r++})}else if(e==re){var a=[];a[0]=o.find(".checkoutDelivery__city").val(),a[1]=o.find("input[name=delivery_type]:checked").val(),"delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")?a[2]=o.find("input[name=delivery_type]:checked ~ .field input:checked").val():a[2]=o.find("input[name=delivery_type]:checked ~ input").val()}else if(e==ae){t=!1;var d=o.find("input[name=payment_type]");d.each(function(){$(this).is(":checked")?t=!0:1!=t&&(t=!1)})}if("delivery_sam"==o.find("input[name=delivery_type]:checked").attr("id")){o.find("input[name=delivery_type]:checked ~ .field input:checked").val()?0!=t&&(t=!0,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--err"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--ok")):(t=!1,o.find("input[name=delivery_type]:checked ~ .field label").removeClass("input--ok"),o.find("input[name=delivery_type]:checked ~ .field label").addClass("input--err"))}if(0!=c.length?c.each(function(){0!=$(this).closest(".checkout__hasFields").length?$(this).closest(".checkout__hasFields").children("input[type=radio]").is(":checked")?""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0)):0!=t&&(t=!0):""==$(this).val()?($(this).removeClass("input--ok"),$(this).addClass("input--err"),t=!1):($(this).removeClass("input--err"),$(this).addClass("input--ok"),0!=t&&(t=!0))}):0!=t&&(t=!0),!n){o.find(".checkout__completed span").remove();for(var u=0;u<a.length;u++)""!=a[u]&&o.find(".checkout__completed").append("<span>"+a[u]+"</span>")}if(t?(o.attr("data-complete","1"),o.find(".checkout__inner").slideUp(300),o.removeClass("checkout__step--active"),setTimeout(function(){o.addClass("checkout__step--completed"),i&&(i.hasClass("checkout__step--completed")?(i.next().find(".checkout__inner").slideDown(300),i.next().addClass("checkout__step--active")):(i.find(".checkout__inner").slideDown(300),i.addClass("checkout__step--active")),i==ce&&setTimeout(function(){$(".checkoutFrom").slideDown(300)},500))},500)):o.attr("data-complete","0"),n){var _=Boolean(parseInt(ne.attr("data-complete"))),p=Boolean(parseInt(se.attr("data-complete"))),h=Boolean(parseInt(ce.attr("data-complete")));if(_&&p&&h){alert("success");var m=de.serialize();console.log(m)}else alert("Заполнены не все данные!")}})}var s=document.querySelector("body"),c=document.querySelectorAll(".quantly"),l=document.querySelector(".checkout"),r=$(".dropdown__title"),a=$(".about__photos");if(r&&r.on("click",function(){$(this).next().slideToggle(200),$(this).toggleClass("dropdown__title--open")}),c)for(var d=0;d<c.length;d++){var u;c[d].querySelector("input[name=quantly]");c[d].querySelector(".quantly__plus").addEventListener("click",function(){u=parseInt(this.parentNode.querySelector("input[name=quantly]").value),this.parentNode.querySelector("input[name=quantly]").value=u+1}),c[d].querySelector(".quantly__minus").addEventListener("click",function(){(u=parseInt(this.parentNode.querySelector("input[name=quantly]").value))>1&&(this.parentNode.querySelector("input[name=quantly]").value=u-1)})}$(".seo__btn").on("click",function(){$(this).closest(".seo").toggleClass("seo--open")}),$(".dropdown__row").on("click",function(e){e.preventDefault();var t=$(this),o=$(this).find("input").val(),i=$(this).find("label").text();$(this).closest(".dropdown__list").find("input[type=hidden]").val(o),$(this).closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeOut(100),$(".category__sort").removeClass("category__sort--open"),$(".open_sort").removeClass("open_sort--open"),setTimeout(function(){t.closest(".dropdown").find(".dropdown__title .dropdown__checked").text(i),t.closest(".dropdown").find(".dropdown__title .dropdown__checked").fadeIn(100)},100),$(this).closest(".dropdown__list").slideUp(100),$(this).closest(".dropdown").find(".dropdown__title").removeClass("dropdown__title--open"),$(this).addClass("dropdown__row--active"),$(this).siblings().removeClass("dropdown__row--active")}),a&&a.slick({infinite:!1,slidesToShow:4,slidesToScroll:1,arrows:!1,autoplay:!0,responsive:[{breakpoint:1400,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1,arrows:!0}}]}),$(".footer__chat").on("click",function(){$("body,html").animate({scrollTop:0},800)}),$(window).on("scroll",function(){$(window).scrollTop()>800?$(".footer__chat").addClass("footer__chat--show"):$(".footer__chat").removeClass("footer__chat--show")}),$(".products--slider").slick({slidesToShow:4,slidesToScroll:1,infinite:!1,arrows:!1,dots:!1,speed:400,pauseOnHover:!1,responsive:[{breakpoint:1400,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:500,settings:{slidesToShow:1}}]});var _=document.querySelector(".modalCart"),p=document.querySelectorAll(".open_cart"),h=document.querySelectorAll(".close_cart");if(_)var m=_.querySelector(".modal__win");(_||l)&&($(".add_promo").on("click",function(){$(this).parents(".promocode__def").slideUp(200),setTimeout(function(){$(".promocode__add").slideDown(200)},200)}),$(".confirm_promo").on("click",function(){var e=$(this).prev();""!=e.val()?(e.removeClass("input--err"),e.addClass("input--ok"),$(this).parents(".promocode__add").slideUp(200),setTimeout(function(){$(".promocode__result").slideDown(200)},200)):(e.removeClass("input--ok"),e.addClass("input--err"))}));var v=document.querySelector(".modalWish");if(v)var f=v.querySelector(".modal__win");var g=document.querySelectorAll(".open_wish"),k=document.querySelectorAll(".close_wish");if(y){y.querySelector(".modal__win")}var y=document.querySelector(".modalLogin"),w=document.querySelectorAll(".open_auth"),S=document.querySelectorAll(".close_auth"),q=document.querySelector(".modalRegister");if(q){q.querySelector(".modal__win")}var T=(q.querySelector(".modal__win"),document.querySelectorAll(".open_register")),b=document.querySelectorAll(".close_register"),C=document.querySelector(".modalForgot");if(C){C.querySelector(".modal__win")}var L=(C.querySelector(".modal__win"),document.querySelectorAll(".open_forgot")),x=document.querySelectorAll(".close_forgot"),A=document.querySelector(".modalChange");if(A){A.querySelector(".modal__win")}var D=(A.querySelector(".modal__win"),document.querySelectorAll(".open_change")),H=document.querySelectorAll(".close_change"),I=document.querySelector(".modalSuccess");if(I){I.querySelector(".modal__win")}var M=(I.querySelector(".modal__win"),document.querySelectorAll(".open_success")),P=document.querySelectorAll(".close_success"),W=document.querySelector(".modalReview");if(W){W.querySelector(".modal__win"),W.querySelector(".modal__win")}var N=document.querySelectorAll(".open_review"),E=document.querySelectorAll(".close_review"),O=document.querySelector(".search"),U=document.querySelectorAll(".open_search");if(O)for(var d=0;d<U.length;d++)U[d].addEventListener("click",function(){O.classList.toggle("search--open")});if(_){document.querySelector(".open_review.reviews__add"),document.querySelector(".open_auth.reviews__add");document.onclick=function(e){p[0].contains(e.target)||m.contains(e.target)||(_.classList.remove("modalCart--open","modal--open"),o(F)&&setTimeout(t,400)),g[0].contains(e.target)||f.contains(e.target)||(v.classList.remove("modalWish--open","modal--open"),o(F)&&setTimeout(t,400)),U[0].contains(e.target)||O.contains(e.target)||(O.classList.remove("search--open"),o(F)&&setTimeout(t,400))}}var F=[_,v,y,q,C,A,I];if(l)var F=[y,q,C,A,I];if(W)var F=[_,v,y,q,C,A,I,W];i(_,p,h,"modalCart--open",F),i(v,g,k,"modalWish--open",F),i(y,w,S,"modalLogin--open",F),i(q,T,b,"modalRegister--open",F),i(C,L,x,"modalForgot--open",F),i(A,D,H,"modalChange--open",F),i(I,M,P,"modalLogin--open",F),i(W,N,E,"modalReview--open",F);for(var R=document.querySelectorAll(".open_menu"),B=document.querySelector(".header__innerWrap"),X=$(".submenu__title"),z=$(".header__menu > ul > li.has_child"),Y=$(".submenu"),d=0;d<R.length;d++)R[d].addEventListener("click",function(){this.classList.toggle("header__burger--open"),B.classList.toggle("header__innerWrap--open")});X.on("click",function(e){e.stopPropagation(),$(this).next().slideToggle()}),z.on("click",function(e){$(this).find(".submenu").slideToggle()}),Y.on("click",function(e){e.stopPropagation()}),$(".brands .brands__list").slick({dots:!0,infinite:!1,speed:300,arrows:!1,autoplay:!0,speed:200,pauseOnHover:!1,slidesToShow:7,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{slidesToShow:6}},{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:500,settings:{slidesToShow:2}}]});var j=document.querySelector(".slideshow"),G=document.querySelector(".category"),Q=document.querySelector(".filter"),Z=document.querySelectorAll(".filter__all"),J=document.querySelectorAll(".open_filter"),K=document.querySelectorAll(".open_sort"),V=document.querySelector(".category__sort");if(j&&$(".slideshow").slick({dots:!0,infinite:!1,fade:!0,speed:300,arrows:!0,slidesToShow:1,slidesToScroll:1}),G){for(var d=0;d<Z.length;d++){Z[d].addEventListener("click",function(e){for(var t=this.parentNode.querySelectorAll(".filter__row--more"),o=0;o<t.length;o++)t[o].classList.toggle("filter__row--open")});for(var d=0;d<J.length;d++)J[d].addEventListener("click",function(e){Q.classList.toggle("filter--open"),this.classList.toggle("filterMob--active")});for(var d=0;d<K.length;d++)K[d].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),V.classList.toggle("category__sort--open")})}Q&&$(function(){var e=$("input#priceMin").data("min"),t=$("input#priceMax").data("max");$("#filter__range").slider({min:e,max:t,values:[e,t],range:!0,stop:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))},slide:function(e,t){$("input#priceMin").val($("#filter__range").slider("values",0)),$("input#priceMax").val($("#filter__range").slider("values",1)),$(".price-range-min.value").html($("#filter__range").slider("values",0)),$(".price-range-max.value").html($("#filter__range").slider("values",1))}}),$("input#priceMin").on("change",function(){var e=$("input#priceMin").val(),t=$("input#priceMax").val();parseInt(e)>parseInt(t)&&(e=t,$("input#priceMin").val(e),$(".price-range-min.value").html(e)),$("#filter__range").slider("values",0,e),$(".price-range-min.value").html(e)}),$("input#priceMax").on("change",function(){var e=$("input#priceMin").val(),o=$("input#priceMax").val();o>t&&(o=t,$("input#priceMax").val(t)),parseInt(e)>parseInt(o)&&(o=e,$("input#priceMax").val(o),$(".price-range-max.value").html(o)),$("#filter__range").slider("values",1,o),$(".price-range-max.value").html(o)}),$(".ui-slider-handle:eq(0)").append('<span class="price-range-min value">'+$("#filter__range").slider("values",0)+"</span>"),$(".ui-slider-handle:eq(1)").append('<span class="price-range-max value">'+$("#filter__range").slider("values",1)+"</span>")})}if(document.querySelector(".product")){$(".productImages__thumbs").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0}),$(".productImages__nav").slick({slidesToShow:5,slidesToScroll:2,vertical:!0,verticalSwiping:!0,asNavFor:".productImages__thumbs",dots:!1,arrows:!1,focusOnSelect:!1,infinite:!0,centerMode:!1,responsive:[{breakpoint:1400,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:3}}]}),$(".productImages__nav .slick-slide").on("click",function(e){$(".productImages__thumbs").slick("slickGoTo",$(this).data("slickIndex"))}),$(".productTabs__pick").on("click",function(){var e=$(this).data("tab");$(this).siblings().removeClass("productTabs__pick--active"),$(this).addClass("productTabs__pick--active"),$(".productTabs__tab").each(function(){$(this).data("tab")==e&&($(this).siblings().removeClass("productTabs__tab--active"),$(this).addClass("productTabs__tab--active"))})}),function(e){function t(t){var o=t||window.event,i=[].slice.call(arguments,1),n=0,s=0,c=0;return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(n=o.wheelDelta/120),o.detail&&(n=-o.detail/3),c=n,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(c=0,s=-1*n),void 0!==o.wheelDeltaY&&(c=o.wheelDeltaY/120),void 0!==o.wheelDeltaX&&(s=-1*o.wheelDeltaX/120),i.unshift(t,n,s,c),(e.event.dispatch||e.event.handle).apply(this,i)}var o=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=o.length;i;)e.event.fixHooks[o[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);var ee=$(".productTabs__content.scroll");$(".productTabs__content.scroll").mousewheel(function(e,t){e.preventDefault(),e.stopPropagation();for(var o=0;o<ee.length;o++)$(".productTabs__content.scroll")[o].scrollLeft-=40*t})}document.querySelector(".checkoutCustomer__nav");if(l){var te,oe,ie,ne=$(".checkoutCustomer"),se=$(".checkoutDelivery"),ce=$(".checkoutPayment"),le=$("#customer_complete"),re=$("#delivery_complete"),ae=$("#checkout_order"),de=$("#checkout_form"),ue=$(".checkout__change");if($(".checkoutDelivery__cities span").on("click",function(){$("input[name=city]").val($(this).text())}),$(".checkoutPayment .dropdown li span").on("click",function(){$("input[name=credit_program]").val($(this).text()),$(".checkoutPayment .dropdown__title span").text($(this).text()),$(".checkoutPayment .dropdown").removeClass("dropdown--open"),$(".checkoutPayment .dropdown__title img").replaceWith($(this).prev().clone())}),$("#checkout_pass_pass").on("click",function(){$(".checkout__row--pass").hasClass("checkout__row--passport--required")&&$(".checkout__row--pass input").addClass("checkout__required"),$(".checkout__row--idCard input").removeClass("checkout__required")}),$("#checkout_pass_id").on("click",function(){$(".checkout__row--idCard").hasClass("checkout__row--passport--required")&&$(".checkout__row--idCard input").addClass("checkout__required"),$(".checkout__row--pass input").removeClass("checkout__required")}),n(le,te,ne,se),n(re,oe,se,ce),n(ae,ie,ce,!1,!0),ue.on("click",function(){var e=$(this).closest(".checkout__step");e.hasClass("checkoutDelivery")&&(ne.find(".checkout__inner").slideUp(300),ne.addClass("checkout__step--completed"),ne.removeClass("checkout__step--active"));var t=e.siblings();t.find(".checkout__inner").slideUp(300),t.removeClass("checkout__step--active"),setTimeout(function(){e.find(".checkout__inner").slideDown(300),e.removeClass("checkout__step--completed"),e.addClass("checkout__step--active")},500)}),de.hasClass("checkout__authorized")){var _e=ne.find(".checkoutCustomer__input"),pe=0,he=[];_e.each(function(){he[pe]=$(this).val(),pe++}),ne.find(".checkout__completed span").remove();for(var d=0;d<he.length;d++)""!=he[d]&&ne.find(".checkout__completed").append("<span>"+he[d]+"</span>");ne.attr("data-complete","1"),ne.find(".checkout__inner").slideUp(300),ne.removeClass("checkout__step--active"),setTimeout(function(){ne.addClass("checkout__step--completed"),se.find(".checkout__inner").slideDown(300),se.addClass("checkout__step--active"),le.trigger("click")},500)}$(".checkout__back").on("click",function(e){e.preventDefault(),history.back()})}var me=$(".accountNav__btn"),ve=$(".open_order_detail"),fe=$(".close_order_detail"),ge=$(".account"),$e=$(".blog");if(ge.length>0&&(me.on("click",function(){var e=$(".accountNav").offset().left,t=$(this).offset().left-e,o=$(this).data("nav"),i=$(this).width();$(".accountNav__line").css({left:t,width:i}),$(this).parent().siblings().find(".accountNav__btn").removeClass("accountNav__btn--active"),$(this).addClass("accountNav__btn--active"),$(".accountTabs__tab").each(function(){var e=$(this);$(this).data("nav")==o&&($(this).siblings().fadeOut(200),setTimeout(function(){e.fadeIn(200)},200))}),"discount"==$(this).data("nav")&&setTimeout(function(){$(".accountDiscProgress").addClass("accountDiscProgress--visited")},3e3)}),$(".accountPet__addPhoto").on("click",function(){$(".accountPet__file").trigger("click"),$(".accountPet__file").on("change",function(){$(".accountPet__loaded").text(""),$(".accountPet__loaded").text($(this).val())})}),ve.on("click",function(){var e=$(this).closest(".accountWish__item"),t=e.find(".accountHistory__hidden"),o=e.find(".accountHistory__visible"),i=e.find(".accountHistory__toolsHidden"),n=e.find(".accountHistory__open"),s=e.find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),s.slideToggle(200)},400)}),fe.on("click",function(){var e=$(this).closest(".accountWish__item"),t=$(this).closest(".accountWish__item").find(".accountHistory__hidden"),o=$(this).closest(".accountWish__item").find(".accountHistory__visible"),i=$(this).closest(".accountWish__item").find(".accountHistory__toolsHidden"),n=$(this).closest(".accountWish__item").find(".accountHistory__open"),s=$(this).closest(".accountWish__item").find(".accountHistory__close");e.addClass("accountHistory__item--click"),setTimeout(function(){e.removeClass("accountHistory__item--click")},600),setTimeout(function(){t.slideToggle(200),o.slideToggle(200),i.slideToggle(200),n.slideToggle(200),s.slideToggle(200)},400)}),$(".accountNav ul").slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:!1,variableWidth:!0,infinite:!1,responsive:[{breakpoint:992,settings:{slidesToShow:4,variableWidth:!1}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:650,settings:{slidesToShow:2}}]})),ge.length>0||$e.length>0)for(var d=0;d<K.length;d++)K[d].addEventListener("click",function(e){this.classList.toggle("open_sort--open"),this.parentNode.querySelector(".accountWish__sortList").classList.toggle("category__sort--open"),$("body").toggleClass("shadow")});document.querySelector(".partners")&&$(".partners__add").on("click",function(){$(".partners__file").trigger("click"),$(".partners__file").on("change",function(){$(".partners__path").text(""),$(".partners__path").text($(this).val())})})};